{% extends '_base.html' %}
{% load crispy_forms_tags %}
{% load cloudinary %}

{% block extra_title %}{{ profile }}{% endblock extra_title %}

{% block content %}
<div id="profile" class="container">
    <div class="row">
        <div class="col-12 profile">
            <div class="col my-auto mx-auto avatar img-thumb">
                {% cloudinary profile.avatar.url fetch_format="auto" gravity="faces" crop="thumb" %}
            </div>
            <div class="col-8 status">
                <i class="page-icon fas fa-quote-left"></i>
                &nbsp;{{ profile.status }}&nbsp;
                <i class="page-icon fas fa-quote-right"></i>
            </div>
        </div>
    </div>
    <hr>
    <div id="friends">
        {% if profile.get_friends %}
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Friends</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    {% for friend in profile.get_friends %}
                    <td class="profile-thumb">
                        {% cloudinary friend.profile.avatar.url fetch_format="auto" gravity="faces" crop="thumb" %}
                    </td>
                    <td><a href="">{{ friend.profile.slug|title }}</a>
                    </td>
                    <td>{{ friend.profile.status }}</td>
                    {% endfor %}
                </tr>
            </tbody>
        </table>
        {% endif %}
    </div>
</div>
<h2 class="text-center">Albums: {{ albums|length }}</h2>
<div id="profile-gallery" class="row">
    <div class="col-6 portfolio">
        <h3 class="text-center">Public: {{ plc_albums|length }}</h3>
        {% for album in plc_albums %}
        <ul>
            <li>
                <span class="title"><a href="{{ album.get_absolute_url }}">{{ album.title|title }}:
                        {{ album.get_asset_count }}</a></span>
            </li>
        </ul>
        {% endfor %}
    </div>
    <hr>
    <div class="col-6 portfolio">
        <h3>Private: {{ pvt_albums|length }}</h3>
        {% for album in pvt_albums %}
        <ul>
            <li>
                <span class="title"><a href="{ album.get_absolute_url }}">{{ album.title|title }}:
                        {{ album.get_asset_count }}</a></span>
            </li>
        </ul>
        {% endfor %}
    </div>
</div>
{% endblock content %}